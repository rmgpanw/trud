<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Query the NHS TRUD API • trud</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="favicon-96x96.png">
<link rel="icon" type="”image/svg+xml”" href="favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="apple-touch-icon.png">
<link rel="icon" sizes="any" href="favicon.ico">
<link rel="manifest" href="site.webmanifest">
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="deps/headroom-0.11.0/headroom.min.js"></script><script src="deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="deps/search-1.0.0/fuse.min.js"></script><script src="deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Query the NHS TRUD API">
<meta name="description" content="Provides a convenient R interface to the National Health Service NHS Technology Reference Update Distribution (TRUD) API, allowing users to list available releases for their subscribed items, retrieve metadata, and download release files. For more information on the API, see &lt;https://isd.digital.nhs.uk/trud/users/guest/filters/0/api&gt;.">
<meta property="og:description" content="Provides a convenient R interface to the National Health Service NHS Technology Reference Update Distribution (TRUD) API, allowing users to list available releases for their subscribed items, retrieve metadata, and download release files. For more information on the API, see &lt;https://isd.digital.nhs.uk/trud/users/guest/filters/0/api&gt;.">
<meta property="og:image" content="https://rmgpanw.github.io/trud/logo.png">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="index.html">trud</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="articles/trud.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/rmgpanw/trud/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header">
<img src="logo.png" class="logo" alt=""><h1 id="trud-">trud 
<a class="anchor" aria-label="anchor" href="#trud-"></a>
</h1>
</div>
<!-- badges: start -->

<p>The goal of <code>trud</code> is to provide a convenient R interface to the <a href="https://isd.digital.nhs.uk/trud/users/guest/filters/0/api" class="external-link">National Health Service (NHS) England Technology Reference data Update Distribution (TRUD)</a>.</p>
<p>The NHS TRUD service provides essential reference files that underpin a wide range of electronic health record (EHR) areas, both in the UK and internationally. These files include clinical coding systems such as ICD, Read codes, prescription codes, and the SNOMED CT ontology, with regular updates to reflect new knowledge and changes in clinical practice. NHS TRUD content supports key research areas like disease phenotyping, cohort selection, epidemiology, health services research, and the development of risk prediction models.</p>
<p><code>trud</code> enables seamless, programmatic retrieval and updating of NHS TRUD release items, removing the need for manual downloads and reducing the risk of errors or version drift. This helps researchers maintain reproducible, up-to-date analyses — whether as part of ad-hoc studies or automated pipelines.</p>
<p>To learn more about NHS TRUD and its available resources, visit the <a href="https://isd.digital.nhs.uk/trud" class="external-link">NHS TRUD website</a>.</p>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>You can install this package from CRAN:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/install.packages.html" class="external-link">install.packages</a></span><span class="op">(</span><span class="st">"trud"</span><span class="op">)</span></span></code></pre></div>
<p>Or you can install the development version of <code>trud</code> from <a href="https://github.com/rmgpanw/trud" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("pak")</span></span>
<span><span class="fu">pak</span><span class="fu">::</span><span class="fu"><a href="https://pak.r-lib.org/reference/pak.html" class="external-link">pak</a></span><span class="op">(</span><span class="st">"rmgpanw/trud"</span><span class="op">)</span></span></code></pre></div>
<p>You will also need to <a href="https://isd.digital.nhs.uk/trud/users/guest/filters/0/account/form" class="external-link">sign up for a free account</a> with NHS TRUD and set up your API key as described in <code><a href="articles/trud.html">vignette("trud")</a></code>.</p>
</div>
<div class="section level2">
<h2 id="getting-started">Getting Started<a class="anchor" aria-label="anchor" href="#getting-started"></a>
</h2>
<div class="section level3">
<h3 id="understanding-trud-subscriptions">Understanding TRUD Subscriptions<a class="anchor" aria-label="anchor" href="#understanding-trud-subscriptions"></a>
</h3>
<p><strong>Important</strong>: NHS TRUD operates on a subscription model. After creating your account, you must individually subscribe to each item you want to access through the <a href="https://isd.digital.nhs.uk/trud/users/guest/filters/0/categories/1" class="external-link">NHS TRUD website</a>.</p>
</div>
<div class="section level3">
<h3 id="recommended-workflow">Recommended Workflow<a class="anchor" aria-label="anchor" href="#recommended-workflow"></a>
</h3>
<p><strong>Step 1</strong>: Check what you’re already subscribed to:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://rmgpanw.github.io/trud/">trud</a></span><span class="op">)</span></span>
<span></span>
<span><span class="co"># See items you can currently access</span></span>
<span><span class="fu"><a href="reference/get_subscribed_metadata.html">get_subscribed_metadata</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt;  ■■■■■■■■■■                        29% |  ETA:  4s</span></span>
<span><span class="co">#&gt;  ■■■■■■■■■■■■■■■■■■■■■■■■■■■■      90% |  ETA:  0s</span></span>
<span><span class="co">#&gt; # A tibble: 17 × 3</span></span>
<span><span class="co">#&gt;    item_number item_name                                            metadata    </span></span>
<span><span class="co">#&gt;          &lt;int&gt; &lt;chr&gt;                                                &lt;list&gt;      </span></span>
<span><span class="co">#&gt;  1         394 Community Services Data Set pre-deadline extract XM… &lt;named list&gt;</span></span>
<span><span class="co">#&gt;  2         239 dm+d XML transformation tool                         &lt;named list&gt;</span></span>
<span><span class="co">#&gt;  3         263 eViewer application                                  &lt;named list&gt;</span></span>
<span><span class="co">#&gt;  4         398 Global Trade Item Number to OPCS-4 code cross refer… &lt;named list&gt;</span></span>
<span><span class="co">#&gt;  5        1760 NHS Continuing Health Care (CHC) Data Set - JSON Sc… &lt;named list&gt;</span></span>
<span><span class="co">#&gt;  6         719 NHS Continuing Health Care (CHC) Data Set - XML Sch… &lt;named list&gt;</span></span>
<span><span class="co">#&gt;  7           9 NHS Data Migration                                   &lt;named list&gt;</span></span>
<span><span class="co">#&gt;  8         258 NHS ICD-10 5th Edition data files                    &lt;named list&gt;</span></span>
<span><span class="co">#&gt;  9           8 NHS Read Browser                                     &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 10          19 NHS UK Read Codes Clinical Terms Version 3           &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 11         255 NHS UK Read Codes Clinical Terms Version 3, Cross M… &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 12          24 NHSBSA dm+d                                          &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 13         264 OPCS-4 eVersion book                                 &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 14         659 Primary Care Domain reference sets                   &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 15         101 SNOMED CT UK Clinical Edition, RF2: Full, Snapshot … &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 16          98 SNOMED CT UK Data Migration Workbench                &lt;named list&gt;</span></span>
<span><span class="co">#&gt; 17        1799 SNOMED CT UK Monolith Edition, RF2: Snapshot         &lt;named list&gt;</span></span></code></pre></div>
<p><strong>Step 2</strong>: Browse all available items (note: subscription required for access):</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List all available TRUD items</span></span>
<span><span class="fu"><a href="reference/trud_items.html">trud_items</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co">#&gt; # A tibble: 73 × 2</span></span>
<span><span class="co">#&gt;    item_number item_name                                                        </span></span>
<span><span class="co">#&gt;          &lt;int&gt; &lt;chr&gt;                                                            </span></span>
<span><span class="co">#&gt;  1         246 Cancer Outcomes and Services Data Set XML Schema                 </span></span>
<span><span class="co">#&gt;  2         245 Commissioning Data Set XML Schema                                </span></span>
<span><span class="co">#&gt;  3         599 Community Services Data Set Intermediate Database                </span></span>
<span><span class="co">#&gt;  4         393 Community Services Data Set post-deadline extract XML Schema     </span></span>
<span><span class="co">#&gt;  5         394 Community Services Data Set pre-deadline extract XML Schema      </span></span>
<span><span class="co">#&gt;  6         391 Community Services Data Set XML Schema                           </span></span>
<span><span class="co">#&gt;  7         248 Diagnostic Imaging Data Set XML Schema                           </span></span>
<span><span class="co">#&gt;  8         239 dm+d XML transformation tool                                     </span></span>
<span><span class="co">#&gt;  9        1859 Electronic Prescribing and Medicines Administration Data Sets XM…</span></span>
<span><span class="co">#&gt; 10        1819 Emergency Care Data Set XML Schema                               </span></span>
<span><span class="co">#&gt; # ℹ 63 more rows</span></span></code></pre></div>
<p><strong>Step 3</strong>: Subscribe to additional items you need via the <a href="https://isd.digital.nhs.uk/trud/users/guest/filters/0/categories/1" class="external-link">NHS TRUD website</a>, then access them:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># After subscribing to an item (e.g., item 394), you can:</span></span>
<span></span>
<span><span class="co"># Get metadata</span></span>
<span><span class="va">metadata</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/get_item_metadata.html">get_item_metadata</a></span><span class="op">(</span><span class="fl">394</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Download the item</span></span>
<span><span class="va">file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/download_item.html">download_item</a></span><span class="op">(</span><span class="fl">394</span>, directory <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/tempfile.html" class="external-link">tempdir</a></span><span class="op">(</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="available-functionality">Available functionality<a class="anchor" aria-label="anchor" href="#available-functionality"></a>
</h2>
<p>The main functions provided by <code>trud</code> are:</p>
<ul>
<li>
<code><a href="reference/get_subscribed_metadata.html">get_subscribed_metadata()</a></code>: Shows items you can currently access</li>
<li>
<code><a href="reference/trud_items.html">trud_items()</a></code>: Lists all available items</li>
<li>
<code><a href="reference/get_item_metadata.html">get_item_metadata()</a></code>: Retrieves metadata for a specific item</li>
<li>
<code><a href="reference/download_item.html">download_item()</a></code>: Downloads files for a specific item</li>
</ul>
<p>Please see <code><a href="articles/trud.html">vignette("trud")</a></code> for further information and getting started.</p>
</div>
<div class="section level2">
<h2 id="citing-trud">Citing trud<a class="anchor" aria-label="anchor" href="#citing-trud"></a>
</h2>
<p>If you find <code>trud</code> useful, please consider citing it. Citation details are available <a href="https://rmgpanw.github.io/trud/authors.html#citation">here</a>.</p>
</div>
<div class="section level2">
<h2 id="community-guidelines">Community guidelines<a class="anchor" aria-label="anchor" href="#community-guidelines"></a>
</h2>
<p>Feedback, bug reports, and feature requests are welcome; file issues or seek support <a href="https://github.com/rmgpanw/trud/issues" class="external-link">here</a>. If you would like to contribute to the package, please see our <a href="https://rmgpanw.github.io/trud/CONTRIBUTING.html">contributing guidelines</a>.</p>
<p>Please note that this package is released with a <a href="https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html">Contributor Code of Conduct</a>. By contributing to this project, you agree to abide by its terms.</p>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://cloud.r-project.org/package=trud" class="external-link">View on CRAN</a></li>
<li><a href="https://github.com/rmgpanw/trud/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/rmgpanw/trud/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li><a href="LICENSE.html">Full license</a></li>
<li><small><a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a></small></li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing trud</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Alasdair Warwick <br><small class="roles"> Author, maintainer, copyright holder </small> <a href="https://orcid.org/0000-0002-0800-2890" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Robert Luben <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-5088-6343" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Abraham Olvera-Barrios <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0002-3305-4465" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
<li>Chuin Ying Ung <br><small class="roles"> Author </small> <a href="https://orcid.org/0000-0001-8487-4589" target="orcid.widget" aria-label="ORCID" class="external-link"><span class="fab fa-orcid orcid" aria-hidden="true"></span></a>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/rmgpanw/trud/actions/workflows/pkgdown.yaml" class="external-link"><img src="https://github.com/rmgpanw/trud/actions/workflows/pkgdown.yaml/badge.svg" alt="pkgdown"></a></li>
<li><a href="https://app.codecov.io/gh/rmgpanw/trud?branch=main" class="external-link"><img src="https://codecov.io/gh/rmgpanw/trud/branch/main/graph/badge.svg" alt="Codecov test coverage"></a></li>
<li><a href="https://github.com/rmgpanw/trud/actions/workflows/R-CMD-check.yaml" class="external-link"><img src="https://github.com/rmgpanw/trud/actions/workflows/R-CMD-check.yaml/badge.svg" alt="R-CMD-check"></a></li>
<li><a href="https://CRAN.R-project.org/package=trud" class="external-link"><img src="https://www.r-pkg.org/badges/version/trud" alt="CRAN status"></a></li>
<li><a href="https://cran.r-project.org/package=trud" class="external-link"><img src="https://cranlogs.r-pkg.org/badges/last-month/trud"></a></li>
<li><a href="https://www.repostatus.org/#active" class="external-link"><img src="https://www.repostatus.org/badges/latest/active.svg" alt="Repo Status"></a></li>
<li><a href="https://github.com/ropensci/software-review/issues/705" class="external-link"><img src="https://badges.ropensci.org/705_status.svg" alt="Status at rOpenSci Software Peer Review"></a></li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by Alasdair Warwick, Robert Luben, Abraham Olvera-Barrios, Chuin Ying Ung.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.3.</p>
</div>

    </footer>
</div>





  </body>
</html>
