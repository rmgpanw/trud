[{"path":"https://rmgpanw.github.io/trud/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 trud authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://rmgpanw.github.io/trud/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alasdair Warwick. Author, maintainer, copyright holder. Robert Luben. Author. Abraham Olvera-Barrios. Author. Chuin Ying Ung. Author.","code":""},{"path":"https://rmgpanw.github.io/trud/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Warwick , Luben R, Olvera-Barrios , Ung C (2024). trud: Query NHS TRUD API. R package version 0.0.0.9000,  https://github.com/rmgpanw/trud, https://rmgpanw.github.io/trud/.","code":"@Manual{,   title = {trud: Query the NHS TRUD API},   author = {Alasdair Warwick and Robert Luben and Abraham Olvera-Barrios and Chuin Ying Ung},   year = {2024},   note = {R package version 0.0.0.9000,  https://github.com/rmgpanw/trud},   url = {https://rmgpanw.github.io/trud/}, }"},{"path":"https://rmgpanw.github.io/trud/index.html","id":"trud-","dir":"","previous_headings":"","what":"Query the NHS TRUD API","title":"Query the NHS TRUD API","text":"goal trud provide convenient R interface NHS TRUD API.","code":""},{"path":"https://rmgpanw.github.io/trud/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Query the NHS TRUD API","text":"can install development version trud GitHub : also need : Sign account NHS TRUD Set API key (shown account information page) environmental variable named TRUD_API_KEY. best way placing API key .Renviron file.","code":"# install.packages(\"devtools\") devtools::install_github(\"rmgpanw/trud\")"},{"path":"https://rmgpanw.github.io/trud/index.html","id":"examples","dir":"","previous_headings":"","what":"Examples","title":"Query the NHS TRUD API","text":"Retrieve available endpoints1: Get metadata item: Download item:","code":"library(trud)  trud_items() #> # A tibble: 70 × 2 #>    item_number item_name                                                    #>          <int> <chr>                                                        #>  1         246 Cancer Outcomes and Services Data Set XML Schema             #>  2         245 Commissioning Data Set XML Schema                            #>  3         599 Community Services Data Set Intermediate Database            #>  4         393 Community Services Data Set post-deadline extract XML Schema #>  5         394 Community Services Data Set pre-deadline extract XML Schema  #>  6         391 Community Services Data Set XML Schema                       #>  7         248 Diagnostic Imaging Data Set XML Schema                       #>  8         239 dm+d XML transformation tool                                 #>  9        1819 Emergency Care Data Set XML Schema                           #> 10         263 eViewer application                                          #> # ℹ 60 more rows get_item_metadata(394) |>   purrr::map_at(\"releases\", \\(release) purrr::map(release, names)) #> $apiVersion #> [1] \"1\" #>  #> $releases #> $releases$CSDS_Provpredextract_1.6.6_20221115000001.zip #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #> $releases$DMDSSCHEMAS_1.5.21_20200805000001 #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #>  #> $httpStatus #> [1] 200 #>  #> $message #> [1] \"OK\" # by default the latest release will be downloaded to the current working directory x <- download_item(394, directory = tempdir()) #> ⠙ Downloading archive file for TRUD item 394... #> ✔ Successfully downloaded `CSDS_Provpredextract_1.6.6_20221115000001.zip` to '/… #> unzip(x, list = TRUE) #>                                                   Name Length #> 1           CSDS_ProvPreExtract__V1_6_6_SAMPLE_XML.xml   7887 #> 2              CSDS_ProvPreExtract__V1_6_6_FinalV1.XSD  75650 #> 3 CSDS ProvPreDExtract v1.6.6 Production Log v0.1.xlsx  32216 #>                  Date #> 1 2022-11-15 12:48:00 #> 2 2022-10-31 11:36:00 #> 3 2022-11-15 11:57:00"},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":null,"dir":"Reference","previous_headings":"","what":"Download NHS TRUD item — download_item","title":"Download NHS TRUD item — download_item","text":"Downloads files specified NHS TRUD item (requires subscription). default latest release.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download NHS TRUD item — download_item","text":"","code":"download_item(   item,   directory = \".\",   download_file = \"archive\",   TRUD_API_KEY = NULL,   release = NULL )"},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download NHS TRUD item — download_item","text":"item integer, item downloaded. directory Path directory item downloaded . set current working directory default. download_file item file downloaded. Valid values: \"archive\" (release item) \"checksum\" \"signature\" \"publickKey\" TRUD_API_KEY string. name environmental variable containing TRUD API key. NULL (default) assumed called TRUD_API_KEY. release name specific release ID downloaded (can ascertained using get_item_metadata()). NULL (default), latest item release downloaded.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download NHS TRUD item — download_item","text":"file path downloaded file, returned invisibly.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download NHS TRUD item — download_item","text":"","code":"# \\dontrun{  # Download Community Services Data Set pre-deadline extract XML Schema  x <- download_item(394, directory = tempdir()) #> ⠙ Downloading archive file for TRUD item 394... #> ✔ Successfully downloaded `CSDS_Provpredextract_1.6.6_20221115000001.zip` to /t… #>    # List downloaded files  unzip(x, list = TRUE) #>                                                   Name Length #> 1           CSDS_ProvPreExtract__V1_6_6_SAMPLE_XML.xml   7887 #> 2              CSDS_ProvPreExtract__V1_6_6_FinalV1.XSD  75650 #> 3 CSDS ProvPreDExtract v1.6.6 Production Log v0.1.xlsx  32216 #>                  Date #> 1 2022-11-15 12:48:00 #> 2 2022-10-31 11:36:00 #> 3 2022-11-15 11:57:00   # Download a previous release  release <- get_item_metadata(394)$releases[[2]]$id   y <- download_item(394, directory = tempdir(), release = release) #> ⠙ Downloading archive file for TRUD item 394... #> ✔ Successfully downloaded `csds_provpredextract_1.5.21_20200805000001.zip` to /… #>    unzip(y, list = TRUE) #>                                            Name Length                Date #> 1      CSDS_ProvPreExtract__V1.5.21_FinalV1.XSD  58918 2020-07-14 17:41:00 #> 2   CSDS_ProvPreExtract__V1.5.21_SAMPLE_XML.xml   7799 2020-07-23 17:03:00 #> 3 CSDS ProvPreDExtract Production Log v0.1.xlsx  32645 2020-07-15 16:20:00 # }"},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve metadata for a NHS TRUD item — get_item_metadata","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"Sends request release list endpoint, returning list metadata pertaining specified NHS TRUD item.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"","code":"get_item_metadata(item, TRUD_API_KEY = NULL, latest_only = FALSE)"},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"item integer, item downloaded. TRUD_API_KEY string. name environmental variable containing TRUD API key. NULL (default) assumed called TRUD_API_KEY. latest_only TRUE, metadata pertaining latest item release retrieved. default set FALSE.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"list.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"","code":"# \\dontrun{  # Get metadata for Community Services Data Set pre-deadline extract XML Schema  get_item_metadata(394) |>    purrr::map_at(\"releases\", \\(release) purrr::map(release, names)) #> $apiVersion #> [1] \"1\" #>  #> $releases #> $releases$CSDS_Provpredextract_1.6.6_20221115000001.zip #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #> $releases$DMDSSCHEMAS_1.5.21_20200805000001 #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #>  #> $httpStatus #> [1] 200 #>  #> $message #> [1] \"OK\" #>   # Include metadata for any previous releases using `latest_only = FALSE` get_item_metadata(394, latest_only = FALSE) |>    purrr::map_at(\"releases\", \\(release) purrr::map(release, names)) #> $apiVersion #> [1] \"1\" #>  #> $releases #> $releases$CSDS_Provpredextract_1.6.6_20221115000001.zip #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #> $releases$DMDSSCHEMAS_1.5.21_20200805000001 #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #>  #> $httpStatus #> [1] 200 #>  #> $message #> [1] \"OK\" #>  # }"},{"path":"https://rmgpanw.github.io/trud/reference/pipe.html","id":null,"dir":"Reference","previous_headings":"","what":"Pipe operator — %>%","title":"Pipe operator — %>%","text":"See magrittr::%>% details.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/pipe.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pipe operator — %>%","text":"","code":"lhs %>% rhs"},{"path":"https://rmgpanw.github.io/trud/reference/pipe.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pipe operator — %>%","text":"lhs value magrittr placeholder. rhs function call using magrittr semantics.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/pipe.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pipe operator — %>%","text":"result calling rhs(lhs).","code":""},{"path":"https://rmgpanw.github.io/trud/reference/trud-package.html","id":null,"dir":"Reference","previous_headings":"","what":"trud: Query the NHS TRUD API — trud-package","title":"trud: Query the NHS TRUD API — trud-package","text":"convenient R interface NHS TRUD API.","code":""},{"path":[]},{"path":"https://rmgpanw.github.io/trud/reference/trud-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"trud: Query the NHS TRUD API — trud-package","text":"Maintainer: Alasdair Warwick alasdair.warwick.19@ucl.ac.uk (ORCID) [copyright holder] Authors: Robert Luben (ORCID) Abraham Olvera-Barrios (ORCID) Chuin Ying Ung (ORCID)","code":""},{"path":"https://rmgpanw.github.io/trud/reference/trud_items.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available NHS TRUD items — trud_items","title":"Get available NHS TRUD items — trud_items","text":"Scrapes page NHS TRUD website available items.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/trud_items.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available NHS TRUD items — trud_items","text":"","code":"trud_items()"},{"path":"https://rmgpanw.github.io/trud/reference/trud_items.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available NHS TRUD items — trud_items","text":"tibble, columns item_number item_name.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/trud_items.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available NHS TRUD items — trud_items","text":"","code":"# \\dontrun{  trud_items() #> # A tibble: 70 × 2 #>    item_number item_name                                                    #>          <int> <chr>                                                        #>  1         246 Cancer Outcomes and Services Data Set XML Schema             #>  2         245 Commissioning Data Set XML Schema                            #>  3         599 Community Services Data Set Intermediate Database            #>  4         393 Community Services Data Set post-deadline extract XML Schema #>  5         394 Community Services Data Set pre-deadline extract XML Schema  #>  6         391 Community Services Data Set XML Schema                       #>  7         248 Diagnostic Imaging Data Set XML Schema                       #>  8         239 dm+d XML transformation tool                                 #>  9        1819 Emergency Care Data Set XML Schema                           #> 10         263 eViewer application                                          #> # ℹ 60 more rows # }"}]
