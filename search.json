[{"path":[]},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"our-pledge","dir":"","previous_headings":"","what":"Our Pledge","title":"Contributor Covenant Code of Conduct","text":"members, contributors, leaders pledge make participation community harassment-free experience everyone, regardless age, body size, visible invisible disability, ethnicity, sex characteristics, gender identity expression, level experience, education, socio-economic status, nationality, personal appearance, race, caste, color, religion, sexual identity orientation. pledge act interact ways contribute open, welcoming, diverse, inclusive, healthy community.","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"our-standards","dir":"","previous_headings":"","what":"Our Standards","title":"Contributor Covenant Code of Conduct","text":"Examples behavior contributes positive environment community include: Demonstrating empathy kindness toward people respectful differing opinions, viewpoints, experiences Giving gracefully accepting constructive feedback Accepting responsibility apologizing affected mistakes, learning experience Focusing best just us individuals, overall community Examples unacceptable behavior include: use sexualized language imagery, sexual attention advances kind Trolling, insulting derogatory comments, personal political attacks Public private harassment Publishing others’ private information, physical email address, without explicit permission conduct reasonably considered inappropriate professional setting","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"enforcement-responsibilities","dir":"","previous_headings":"","what":"Enforcement Responsibilities","title":"Contributor Covenant Code of Conduct","text":"Community leaders responsible clarifying enforcing standards acceptable behavior take appropriate fair corrective action response behavior deem inappropriate, threatening, offensive, harmful. Community leaders right responsibility remove, edit, reject comments, commits, code, wiki edits, issues, contributions aligned Code Conduct, communicate reasons moderation decisions appropriate.","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"scope","dir":"","previous_headings":"","what":"Scope","title":"Contributor Covenant Code of Conduct","text":"Code Conduct applies within community spaces, also applies individual officially representing community public spaces. Examples representing community include using official e-mail address, posting via official social media account, acting appointed representative online offline event.","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"enforcement","dir":"","previous_headings":"","what":"Enforcement","title":"Contributor Covenant Code of Conduct","text":"Instances abusive, harassing, otherwise unacceptable behavior may reported community leaders responsible enforcement alasdair.warwick.19@ucl.ac.uk. complaints reviewed investigated promptly fairly. community leaders obligated respect privacy security reporter incident.","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"enforcement-guidelines","dir":"","previous_headings":"","what":"Enforcement Guidelines","title":"Contributor Covenant Code of Conduct","text":"Community leaders follow Community Impact Guidelines determining consequences action deem violation Code Conduct:","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"id_1-correction","dir":"","previous_headings":"Enforcement Guidelines","what":"1. Correction","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Use inappropriate language behavior deemed unprofessional unwelcome community. Consequence: private, written warning community leaders, providing clarity around nature violation explanation behavior inappropriate. public apology may requested.","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"id_2-warning","dir":"","previous_headings":"Enforcement Guidelines","what":"2. Warning","title":"Contributor Covenant Code of Conduct","text":"Community Impact: violation single incident series actions. Consequence: warning consequences continued behavior. interaction people involved, including unsolicited interaction enforcing Code Conduct, specified period time. includes avoiding interactions community spaces well external channels like social media. Violating terms may lead temporary permanent ban.","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"id_3-temporary-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"3. Temporary Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: serious violation community standards, including sustained inappropriate behavior. Consequence: temporary ban sort interaction public communication community specified period time. public private interaction people involved, including unsolicited interaction enforcing Code Conduct, allowed period. Violating terms may lead permanent ban.","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"id_4-permanent-ban","dir":"","previous_headings":"Enforcement Guidelines","what":"4. Permanent Ban","title":"Contributor Covenant Code of Conduct","text":"Community Impact: Demonstrating pattern violation community standards, including sustained inappropriate behavior, harassment individual, aggression toward disparagement classes individuals. Consequence: permanent ban sort public interaction within community.","code":""},{"path":"https://rmgpanw.github.io/trud/CODE_OF_CONDUCT.html","id":"attribution","dir":"","previous_headings":"","what":"Attribution","title":"Contributor Covenant Code of Conduct","text":"Code Conduct adapted Contributor Covenant, version 2.1, available https://www.contributor-covenant.org/version/2/1/code_of_conduct.html. Community Impact Guidelines inspired [Mozilla’s code conduct enforcement ladder][https://github.com/mozilla/inclusion]. answers common questions code conduct, see FAQ https://www.contributor-covenant.org/faq. Translations available https://www.contributor-covenant.org/translations.","code":""},{"path":"https://rmgpanw.github.io/trud/CONTRIBUTING.html","id":null,"dir":"","previous_headings":"","what":"Contributing to trud","title":"Contributing to trud","text":"outlines propose change trud. detailed discussion contributing packages emulating tidyverse style, please see tidyverse development contributing guide code review principles.","code":""},{"path":"https://rmgpanw.github.io/trud/CONTRIBUTING.html","id":"fixing-typos","dir":"","previous_headings":"","what":"Fixing typos","title":"Contributing to trud","text":"can fix typos, spelling mistakes, grammatical errors documentation directly using GitHub web interface, long changes made source file. generally means ’ll need edit roxygen2 comments .R, .Rd file. can find .R file generates .Rd reading comment first line.","code":""},{"path":"https://rmgpanw.github.io/trud/CONTRIBUTING.html","id":"bigger-changes","dir":"","previous_headings":"","what":"Bigger changes","title":"Contributing to trud","text":"want make bigger change, ’s good idea first file issue make sure someone team agrees ’s needed. ’ve found bug, please file issue illustrates bug minimal reprex (also help write unit test, needed). See guide create great issue advice.","code":""},{"path":"https://rmgpanw.github.io/trud/CONTRIBUTING.html","id":"pull-request-process","dir":"","previous_headings":"Bigger changes","what":"Pull request process","title":"Contributing to trud","text":"Fork package clone onto computer. haven’t done , recommend using usethis::create_from_github(\"rmgpanw/trud\", fork = TRUE). Install development dependencies devtools::install_dev_deps(), make sure package passes R CMD check running devtools::check(). R CMD check doesn’t pass cleanly, ’s good idea ask help continuing.","code":""},{"path":"https://rmgpanw.github.io/trud/CONTRIBUTING.html","id":"running-tests","dir":"","previous_headings":"Bigger changes","what":"Running Tests","title":"Contributing to trud","text":"tests run just valid TRUD API key set TRUD_API_KEY environment variable. However, tests require subscription specific TRUD items: Subscribe : https://isd.digital.nhs.uk/trud/users/guest/filters/0/categories/1/items/394/releases don’t subscriptions items, relevant tests automatically skipped informative messages.","code":""},{"path":"https://rmgpanw.github.io/trud/CONTRIBUTING.html","id":"making-changes","dir":"","previous_headings":"Bigger changes","what":"Making Changes","title":"Contributing to trud","text":"Create Git branch pull request (PR). recommend using usethis::pr_init(\"brief-description--change\"). Make changes, commit git, create PR running usethis::pr_push(), following prompts browser. title PR briefly describe change. body PR contain Fixes #issue-number. user-facing changes, add bullet top NEWS.md (.e. just first header). Follow style described https://style.tidyverse.org/news.html.","code":""},{"path":"https://rmgpanw.github.io/trud/CONTRIBUTING.html","id":"code-style","dir":"","previous_headings":"Bigger changes","what":"Code style","title":"Contributing to trud","text":"New code follow tidyverse style guide. can use styler package apply styles, please don’t restyle code nothing PR. use roxygen2, Markdown syntax, documentation. use testthat unit tests. Contributions test cases included easier accept.","code":""},{"path":"https://rmgpanw.github.io/trud/CONTRIBUTING.html","id":"code-of-conduct","dir":"","previous_headings":"","what":"Code of Conduct","title":"Contributing to trud","text":"Please note trud project released Contributor Code Conduct. contributing project agree abide terms.","code":""},{"path":"https://rmgpanw.github.io/trud/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 trud authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":[]},{"path":"https://rmgpanw.github.io/trud/articles/trud.html","id":"retrieve-available-item-endpoints","dir":"Articles","previous_headings":"Examples","what":"Retrieve available item endpoints","title":"trud","text":"Note item numbers can also found URLs releases pages, items releases. example, URL Community Services Data Set pre-deadline extract XML Schema releases page https://isd.digital.nhs.uk/trud/users/guest/filters/0/categories/1/items/394/releases item number 394.","code":"trud_items() #> # A tibble: 73 × 2 #>    item_number item_name                                                         #>          <int> <chr>                                                             #>  1         246 Cancer Outcomes and Services Data Set XML Schema                  #>  2         245 Commissioning Data Set XML Schema                                 #>  3         599 Community Services Data Set Intermediate Database                 #>  4         393 Community Services Data Set post-deadline extract XML Schema      #>  5         394 Community Services Data Set pre-deadline extract XML Schema       #>  6         391 Community Services Data Set XML Schema                            #>  7         248 Diagnostic Imaging Data Set XML Schema                            #>  8         239 dm+d XML transformation tool                                      #>  9        1859 Electronic Prescribing and Medicines Administration Data Sets XM… #> 10        1819 Emergency Care Data Set XML Schema                                #> # ℹ 63 more rows"},{"path":"https://rmgpanw.github.io/trud/articles/trud.html","id":"get-metadata-for-an-item","dir":"Articles","previous_headings":"Examples","what":"Get metadata for an item","title":"trud","text":"","code":"get_item_metadata(394) |>   purrr::map_at(\"releases\", \\(release) purrr::map(release, names)) #> $apiVersion #> [1] \"1\" #>  #> $releases #> $releases$CSDS_Provpredextract_1.6.6_20221115000001.zip #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #> $releases$DMDSSCHEMAS_1.5.21_20200805000001 #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #>  #> $httpStatus #> [1] 200 #>  #> $message #> [1] \"OK\""},{"path":"https://rmgpanw.github.io/trud/articles/trud.html","id":"get-metadata-for-all-subscribed-items","dir":"Articles","previous_headings":"Examples","what":"Get metadata for all subscribed items","title":"trud","text":"","code":"get_subscribed_metadata() #>  ■■■■■■■                           19% |  ETA: 12s #>  ■■■■■■■■■■■■■                     38% |  ETA:  9s #>  ■■■■■■■■■■■■■■■■■■■               59% |  ETA:  6s #>  ■■■■■■■■■■■■■■■■■■■■■■■■          78% |  ETA:  3s #>  ■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■■   99% |  ETA:  0s #> # A tibble: 17 × 3 #>    item_number item_name                                            metadata     #>          <int> <chr>                                                <list>       #>  1         394 Community Services Data Set pre-deadline extract XM… <named list> #>  2         239 dm+d XML transformation tool                         <named list> #>  3         263 eViewer application                                  <named list> #>  4         398 Global Trade Item Number to OPCS-4 code cross refer… <named list> #>  5        1760 NHS Continuing Health Care (CHC) Data Set - JSON Sc… <named list> #>  6         719 NHS Continuing Health Care (CHC) Data Set - XML Sch… <named list> #>  7           9 NHS Data Migration                                   <named list> #>  8         258 NHS ICD-10 5th Edition data files                    <named list> #>  9           8 NHS Read Browser                                     <named list> #> 10          19 NHS UK Read Codes Clinical Terms Version 3           <named list> #> 11         255 NHS UK Read Codes Clinical Terms Version 3, Cross M… <named list> #> 12          24 NHSBSA dm+d                                          <named list> #> 13         264 OPCS-4 eVersion book                                 <named list> #> 14         659 Primary Care Domain reference sets                   <named list> #> 15         101 SNOMED CT UK Clinical Edition, RF2: Full, Snapshot … <named list> #> 16          98 SNOMED CT UK Data Migration Workbench                <named list> #> 17        1799 SNOMED CT UK Monolith Edition, RF2: Snapshot         <named list>"},{"path":"https://rmgpanw.github.io/trud/articles/trud.html","id":"download-an-item","dir":"Articles","previous_headings":"Examples","what":"Download an item","title":"trud","text":"","code":"# by default the latest release will be downloaded to the current working directory x <- download_item(394, directory = tempdir()) #> ⠙ Downloading archive file for TRUD item 394... #> ✔ Successfully downloaded `CSDS_Provpredextract_1.6.6_20221115000001.zip` to /t… #>  unzip(x, list = TRUE) #>                                                   Name Length #> 1           CSDS_ProvPreExtract__V1_6_6_SAMPLE_XML.xml   7887 #> 2              CSDS_ProvPreExtract__V1_6_6_FinalV1.XSD  75650 #> 3 CSDS ProvPreDExtract v1.6.6 Production Log v0.1.xlsx  32216 #>                  Date #> 1 2022-11-15 12:48:00 #> 2 2022-10-31 11:36:00 #> 3 2022-11-15 11:57:00"},{"path":"https://rmgpanw.github.io/trud/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Alasdair Warwick. Author, maintainer, copyright holder. Robert Luben. Author. Abraham Olvera-Barrios. Author. Chuin Ying Ung. Author.","code":""},{"path":"https://rmgpanw.github.io/trud/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Warwick , Luben R, Olvera-Barrios , Ung C (2024). Query NHS TRUD API. https://github.com/rmgpanw/trud/.","code":"@Manual{trud,   title = {Query the NHS TRUD API},   author = {Alasdair Warwick and Robert Luben and Abraham Olvera-Barrios and Chuin Ying Ung},   year = {2024},   url = {https://github.com/rmgpanw/trud/}, }"},{"path":"https://rmgpanw.github.io/trud/index.html","id":"trud-","dir":"","previous_headings":"","what":"Query the NHS TRUD API","title":"Query the NHS TRUD API","text":"goal trud provide convenient R interface National Health Service (NHS) England Technology Reference data Update Distribution (TRUD). NHS TRUD service provides essential reference files underpin wide range electronic health record (EHR) areas, UK internationally. files include clinical coding systems ICD, Read codes, prescription codes, SNOMED CT ontology, regular updates reflect new knowledge changes clinical practice. NHS TRUD content supports key research areas like disease phenotyping, cohort selection, epidemiology, health services research, development risk prediction models. trud enables seamless, programmatic retrieval updating NHS TRUD release items, removing need manual downloads reducing risk errors version drift. helps researchers maintain reproducible, --date analyses — whether part ad-hoc studies automated pipelines. learn NHS TRUD available resources, visit NHS TRUD website.","code":""},{"path":"https://rmgpanw.github.io/trud/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Query the NHS TRUD API","text":"can install package CRAN: can install development version trud GitHub : also need sign free account NHS TRUD","code":"install.packages(\"trud\") # install.packages(\"pak\") pak::pak(\"rmgpanw/trud\")"},{"path":"https://rmgpanw.github.io/trud/index.html","id":"available-functionality","dir":"","previous_headings":"","what":"Available functionality","title":"Query the NHS TRUD API","text":"main functions provided trud get_item_metadata() download_item(). Use trud_items() list available items IDs, retrieved NHS TRUD website: Please see vignette(\"trud\") information getting started.","code":"library(trud) trud_items() #> # A tibble: 73 × 2 #>    item_number item_name                                                         #>          <int> <chr>                                                             #>  1         246 Cancer Outcomes and Services Data Set XML Schema                  #>  2         245 Commissioning Data Set XML Schema                                 #>  3         599 Community Services Data Set Intermediate Database                 #>  4         393 Community Services Data Set post-deadline extract XML Schema      #>  5         394 Community Services Data Set pre-deadline extract XML Schema       #>  6         391 Community Services Data Set XML Schema                            #>  7         248 Diagnostic Imaging Data Set XML Schema                            #>  8         239 dm+d XML transformation tool                                      #>  9        1859 Electronic Prescribing and Medicines Administration Data Sets XM… #> 10        1819 Emergency Care Data Set XML Schema                                #> # ℹ 63 more rows"},{"path":"https://rmgpanw.github.io/trud/index.html","id":"citing-trud","dir":"","previous_headings":"","what":"Citing trud","title":"Query the NHS TRUD API","text":"find trud useful, please consider citing . Citation details available .","code":""},{"path":"https://rmgpanw.github.io/trud/index.html","id":"community-guidelines","dir":"","previous_headings":"","what":"Community guidelines","title":"Query the NHS TRUD API","text":"Feedback, bug reports, feature requests welcome; file issues seek support . like contribute package, please see contributing guidelines. Please note package released Contributor Code Conduct. contributing project, agree abide terms.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":null,"dir":"Reference","previous_headings":"","what":"Download NHS TRUD item — download_item","title":"Download NHS TRUD item — download_item","text":"Downloads files specified NHS TRUD item (requires subscription). default latest release.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download NHS TRUD item — download_item","text":"","code":"download_item(   item,   directory = \".\",   download_file = \"archive\",   TRUD_API_KEY = NULL,   release = NULL )"},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download NHS TRUD item — download_item","text":"item integer, item downloaded. directory Path directory item downloaded . set current working directory default. download_file item file downloaded. Valid values: \"archive\" (release item) \"checksum\" \"signature\" \"publickKey\" TRUD_API_KEY string. name environmental variable containing TRUD API key. NULL (default) assumed called TRUD_API_KEY. release name specific release ID downloaded (can ascertained using get_item_metadata()). NULL (default), latest item release downloaded.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download NHS TRUD item — download_item","text":"file path downloaded file, returned invisibly.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/download_item.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Download NHS TRUD item — download_item","text":"","code":"# Download Community Services Data Set pre-deadline extract XML Schema x <- download_item(394, directory = tempdir()) #> ⠙ Downloading archive file for TRUD item 394... #> ✔ Successfully downloaded `CSDS_Provpredextract_1.6.6_20221115000001.zip` to /t… #>   # List downloaded files unzip(x, list = TRUE) #>                                                   Name Length #> 1           CSDS_ProvPreExtract__V1_6_6_SAMPLE_XML.xml   7887 #> 2              CSDS_ProvPreExtract__V1_6_6_FinalV1.XSD  75650 #> 3 CSDS ProvPreDExtract v1.6.6 Production Log v0.1.xlsx  32216 #>                  Date #> 1 2022-11-15 12:48:00 #> 2 2022-10-31 11:36:00 #> 3 2022-11-15 11:57:00  # Download a previous release release <- get_item_metadata(394)$releases[[2]]$id  y <- download_item(394, directory = tempdir(), release = release) #> ⠙ Downloading archive file for TRUD item 394... #> ✔ Successfully downloaded `csds_provpredextract_1.5.21_20200805000001.zip` to /… #>   unzip(y, list = TRUE) #>                                            Name Length                Date #> 1      CSDS_ProvPreExtract__V1.5.21_FinalV1.XSD  58918 2020-07-14 17:41:00 #> 2   CSDS_ProvPreExtract__V1.5.21_SAMPLE_XML.xml   7799 2020-07-23 17:03:00 #> 3 CSDS ProvPreDExtract Production Log v0.1.xlsx  32645 2020-07-15 16:20:00 # An informative error is raised if your API key is invalid or missing try(download_item(394, TRUD_API_KEY = \"INVALID_API_KEY\")) #> Error in download_item(394, TRUD_API_KEY = \"INVALID_API_KEY\") :  #>   ✖ Can't find NHS TRUD API key #> ℹ Set your NHS TRUD API key as an environment variable using #>   `Sys.setenv(TRUD_API_KEY='<<your-key>>')`, or preferably use a `.Renviron` #>   file #> ℹ To get an API key, first sign up for a NHS TRUD account at #>   <https://isd.digital.nhs.uk/trud/users/guest/filters/0/account/form> #> ℹ To find Your API key, log in and visit your account profile page #>   (<https://isd.digital.nhs.uk/trud/users/authenticated/filters/0/account/manage>)."},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Retrieve metadata for a NHS TRUD item — get_item_metadata","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"Sends request release list endpoint, returning list metadata pertaining specified NHS TRUD item.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"","code":"get_item_metadata(item, TRUD_API_KEY = NULL, latest_only = FALSE)"},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"item integer, item downloaded. TRUD_API_KEY string. name environmental variable containing TRUD API key. NULL (default) assumed called TRUD_API_KEY. latest_only TRUE, metadata pertaining latest item release retrieved. default set FALSE.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"list.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/get_item_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Retrieve metadata for a NHS TRUD item — get_item_metadata","text":"","code":"# Get metadata for Community Services Data Set pre-deadline extract XML Schema get_item_metadata(394) |>   purrr::map_at(\"releases\", \\(release) purrr::map(release, names)) #> $apiVersion #> [1] \"1\" #>  #> $releases #> $releases$CSDS_Provpredextract_1.6.6_20221115000001.zip #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #> $releases$DMDSSCHEMAS_1.5.21_20200805000001 #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #>  #> $httpStatus #> [1] 200 #>  #> $message #> [1] \"OK\" #>   # Include metadata for any previous releases using `latest_only = FALSE` get_item_metadata(394, latest_only = FALSE) |>   purrr::map_at(\"releases\", \\(release) purrr::map(release, names)) #> $apiVersion #> [1] \"1\" #>  #> $releases #> $releases$CSDS_Provpredextract_1.6.6_20221115000001.zip #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #> $releases$DMDSSCHEMAS_1.5.21_20200805000001 #>  [1] \"id\"                                 \"name\"                               #>  [3] \"releaseDate\"                        \"archiveFileUrl\"                     #>  [5] \"archiveFileName\"                    \"archiveFileSizeBytes\"               #>  [7] \"archiveFileSha256\"                  \"archiveFileLastModifiedTimestamp\"   #>  [9] \"checksumFileUrl\"                    \"checksumFileName\"                   #> [11] \"checksumFileSizeBytes\"              \"checksumFileLastModifiedTimestamp\"  #> [13] \"signatureFileUrl\"                   \"signatureFileName\"                  #> [15] \"signatureFileSizeBytes\"             \"signatureFileLastModifiedTimestamp\" #> [17] \"publicKeyFileUrl\"                   \"publicKeyFileName\"                  #> [19] \"publicKeyFileSizeBytes\"             \"publicKeyId\"                        #>  #>  #> $httpStatus #> [1] 200 #>  #> $message #> [1] \"OK\" #>  # An informative error is raised if your API key is invalid or missing try(download_item(394, TRUD_API_KEY = \"INVALID_API_KEY\")) #> Error in download_item(394, TRUD_API_KEY = \"INVALID_API_KEY\") :  #>   ✖ Can't find NHS TRUD API key #> ℹ Set your NHS TRUD API key as an environment variable using #>   `Sys.setenv(TRUD_API_KEY='<<your-key>>')`, or preferably use a `.Renviron` #>   file #> ℹ To get an API key, first sign up for a NHS TRUD account at #>   <https://isd.digital.nhs.uk/trud/users/guest/filters/0/account/form> #> ℹ To find Your API key, log in and visit your account profile page #>   (<https://isd.digital.nhs.uk/trud/users/authenticated/filters/0/account/manage>)."},{"path":"https://rmgpanw.github.io/trud/reference/get_subscribed_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Get metadata for subscribed NHS TRUD items — get_subscribed_metadata","title":"Get metadata for subscribed NHS TRUD items — get_subscribed_metadata","text":"convenience wrapper around trud_items() get_item_metadata(), retrieving metadata items user subscribed .","code":""},{"path":"https://rmgpanw.github.io/trud/reference/get_subscribed_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get metadata for subscribed NHS TRUD items — get_subscribed_metadata","text":"","code":"get_subscribed_metadata(TRUD_API_KEY = NULL, latest_only = FALSE)"},{"path":"https://rmgpanw.github.io/trud/reference/get_subscribed_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get metadata for subscribed NHS TRUD items — get_subscribed_metadata","text":"TRUD_API_KEY string. name environmental variable containing TRUD API key. NULL (default) assumed called TRUD_API_KEY. latest_only TRUE, metadata pertaining latest item release retrieved. default set FALSE.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/get_subscribed_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get metadata for subscribed NHS TRUD items — get_subscribed_metadata","text":"tibble, item metadata stored list column metadata.","code":""},{"path":[]},{"path":"https://rmgpanw.github.io/trud/reference/get_subscribed_metadata.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get metadata for subscribed NHS TRUD items — get_subscribed_metadata","text":"","code":"get_subscribed_metadata() #>  ■■■■■■■■■                         26% |  ETA: 10s #>  ■■■■■■■■■■■■■■■                   48% |  ETA:  7s #>  ■■■■■■■■■■■■■■■■■■■■■■            70% |  ETA:  4s #>  ■■■■■■■■■■■■■■■■■■■■■■■■■■■■      90% |  ETA:  1s #> # A tibble: 17 × 3 #>    item_number item_name                                            metadata     #>          <int> <chr>                                                <list>       #>  1         394 Community Services Data Set pre-deadline extract XM… <named list> #>  2         239 dm+d XML transformation tool                         <named list> #>  3         263 eViewer application                                  <named list> #>  4         398 Global Trade Item Number to OPCS-4 code cross refer… <named list> #>  5        1760 NHS Continuing Health Care (CHC) Data Set - JSON Sc… <named list> #>  6         719 NHS Continuing Health Care (CHC) Data Set - XML Sch… <named list> #>  7           9 NHS Data Migration                                   <named list> #>  8         258 NHS ICD-10 5th Edition data files                    <named list> #>  9           8 NHS Read Browser                                     <named list> #> 10          19 NHS UK Read Codes Clinical Terms Version 3           <named list> #> 11         255 NHS UK Read Codes Clinical Terms Version 3, Cross M… <named list> #> 12          24 NHSBSA dm+d                                          <named list> #> 13         264 OPCS-4 eVersion book                                 <named list> #> 14         659 Primary Care Domain reference sets                   <named list> #> 15         101 SNOMED CT UK Clinical Edition, RF2: Full, Snapshot … <named list> #> 16          98 SNOMED CT UK Data Migration Workbench                <named list> #> 17        1799 SNOMED CT UK Monolith Edition, RF2: Snapshot         <named list>"},{"path":"https://rmgpanw.github.io/trud/reference/trud-package.html","id":null,"dir":"Reference","previous_headings":"","what":"trud: Query the 'NHS TRUD API' — trud-package","title":"trud: Query the 'NHS TRUD API' — trud-package","text":"Provides convenient R interface 'National Health Service NHS Technology Reference Update Distribution (TRUD) API', allowing users list available releases subscribed items, retrieve metadata, download release files. information API, see https://isd.digital.nhs.uk/trud/users/guest/filters/0/api.","code":""},{"path":[]},{"path":"https://rmgpanw.github.io/trud/reference/trud-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"trud: Query the 'NHS TRUD API' — trud-package","text":"Maintainer: Alasdair Warwick alasdair.warwick.19@ucl.ac.uk (ORCID) [copyright holder] Authors: Robert Luben (ORCID) Abraham Olvera-Barrios (ORCID) Chuin Ying Ung (ORCID)","code":""},{"path":"https://rmgpanw.github.io/trud/reference/trud_items.html","id":null,"dir":"Reference","previous_headings":"","what":"Get available NHS TRUD items — trud_items","title":"Get available NHS TRUD items — trud_items","text":"Scrapes page NHS TRUD website available items.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/trud_items.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get available NHS TRUD items — trud_items","text":"","code":"trud_items()"},{"path":"https://rmgpanw.github.io/trud/reference/trud_items.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get available NHS TRUD items — trud_items","text":"tibble, columns item_number item_name.","code":""},{"path":"https://rmgpanw.github.io/trud/reference/trud_items.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get available NHS TRUD items — trud_items","text":"","code":"trud_items() #> # A tibble: 73 × 2 #>    item_number item_name                                                         #>          <int> <chr>                                                             #>  1         246 Cancer Outcomes and Services Data Set XML Schema                  #>  2         245 Commissioning Data Set XML Schema                                 #>  3         599 Community Services Data Set Intermediate Database                 #>  4         393 Community Services Data Set post-deadline extract XML Schema      #>  5         394 Community Services Data Set pre-deadline extract XML Schema       #>  6         391 Community Services Data Set XML Schema                            #>  7         248 Diagnostic Imaging Data Set XML Schema                            #>  8         239 dm+d XML transformation tool                                      #>  9        1859 Electronic Prescribing and Medicines Administration Data Sets XM… #> 10        1819 Emergency Care Data Set XML Schema                                #> # ℹ 63 more rows"},{"path":[]},{"path":"https://rmgpanw.github.io/trud/news/index.html","id":"trud-010","dir":"Changelog","previous_headings":"","what":"trud 0.1.0","title":"trud 0.1.0","text":"CRAN release: 2024-07-22 Initial CRAN submission.","code":""}]
